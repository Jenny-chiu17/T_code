<template>
  <div class="container">
    <h1 class="page-title">ğŸ  é¦–é </h1>

    <!-- çµ±è¨ˆå¡ç‰‡ -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number">{{ stats.pending }}</div>
        <div class="stat-label">å¾…å¯©é–±é …ç›®</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ stats.completed }}</div>
        <div class="stat-label">å·²å®Œæˆé …ç›®</div>
      </div>
    </div>

    <!-- å¿«é€Ÿæ“ä½œ -->
    <div class="card">
      <h3>âš¡ å¿«é€Ÿæ“ä½œ</h3>
      <div style="display: flex; gap: 12px; margin-top: 16px;">
        <button class="btn btn-primary" @click="$emit('navigate', 1)">
          â• æ–°å¢åˆ†æ
        </button>
        <button class="btn btn-secondary">
          ğŸ“ æŸ¥çœ‹å…¨éƒ¨æ­·å²è¨˜éŒ„
        </button>
      </div>
    </div>

    <!-- æœ€è¿‘é …ç›® -->
    <div class="card">
      <h3 style="margin-bottom: 20px;">ğŸ“‹ æœ€è¿‘çš„åˆ†æé …ç›®</h3>
      
      <h4 style="color: #ef4444; margin-bottom: 12px;">ğŸ”´ å¾…å¯©é–±</h4>
      <div 
        v-for="item in pendingItems" 
        :key="item.id"
        class="history-item"
      >
        <div style="display: flex; justify-content: space-between; align-items: start;">
          <div>
            <div style="font-weight: 600; margin-bottom: 8px;">
              {{ item.name }}
            </div>
            <div style="font-size: 14px; color: #64748b;">
              {{ item.date }} | {{ item.info }}
            </div>
          </div>
          <button class="btn btn-primary" @click="$emit('navigate', 2)">
            ç¹¼çºŒå¯©é–±
          </button>
        </div>
      </div>

      <h4 style="color: #10b981; margin: 24px 0 12px 0;">ğŸŸ¢ å·²å®Œæˆ</h4>
      <div 
        v-for="item in completedItems" 
        :key="item.id"
        class="history-item"
      >
        <div style="display: flex; justify-content: space-between; align-items: start;">
          <div>
            <div style="font-weight: 600; margin-bottom: 8px;">
              {{ item.name }}
            </div>
            <div style="font-size: 14px; color: #64748b;">
              {{ item.date }} | {{ item.info }}
            </div>
          </div>
          <button class="btn btn-secondary">æŸ¥çœ‹çµæœ</button>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'

defineEmits(['navigate'])

const stats = ref({
  pending: 5,
  completed: 3
})

const pendingItems = ref([
  {
    id: 1,
    name: 'ğŸ“„ XXXXX æ³•è¦',
    date: '2024/10/10 14:30',
    info: '12 ä»½å…§è¦ | é€²åº¦ï¼š3/12 å¯©é–±ä¸­'
  }
])

const completedItems = ref([
  {
    id: 2,
    name: 'ğŸ“„ XXXXX æ¢æ–‡',
    date: '2024/10/05 16:20',
    info: '15 ä»½å…§è¦ | å…¨éƒ¨å·²å¯©é–±'
  }
])

// ğŸ”Œ è¼‰å…¥å„€è¡¨æ¿è³‡æ–™
onMounted(async () => {
  // TODO: å¾å¾Œç«¯ API è¼‰å…¥è³‡æ–™
  // const response = await fetch('/api/dashboard/stats')
  // stats.value = await response.json()
})
</script>